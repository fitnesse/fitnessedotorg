<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>FitNesse.UserGuide.WritingAcceptanceTests.TestHistory</title>
    <link rel="shortcut icon" type="image/png" href="../../../files/fitnesse/images/favicon.png" />
    <link rel="stylesheet" type="text/css" href="../../../files/fitnesse/css/fitnesse_wiki.css">
    <link rel="stylesheet" type="text/css" href="../../../files/fitnesse/css/fitnesse_pages.css">
    <link rel="stylesheet" type="text/css" href="../../../files/fitnesse/bootstrap/css/fitnesse-bootstrap.css">
    <script src="../../../files/fitnesse/javascript/jquery-3.5.1.min.js" type="text/javascript"></script>
    <script src="../../../files/fitnesse/javascript/fitnesse.js" type="text/javascript"></script>
    <script src="../../../files/fitnesse/bootstrap/js/bootstrap.js" type="text/javascript"></script>
    <script src="../../../files/fitnesse/bootstrap/js/respond.js" type="text/javascript"></script>
  </head>
  <body class="wikiPage">
    <nav class="navbar-expand-md fixed-top" role="navigation">
      <div class="navbar justify-content-start bg-light border">
        <div class="navbar-header">
          <a href="../../../FrontPage.html" class="navbar-brand" ><span class="d-none">FitNesse</span></a>
        </div>
        <ul class="mr-auto navbar-nav">
          <li><a href="../../../FitNesseFeatures.html" class="nav-link text-secondary">Features</a></li>
          <li><a href="../../../FitNesseDownload.html" class="nav-link text-secondary">Download</a></li>
          <li><a href="../../../PlugIns.html" class="nav-link text-secondary">Plug-ins</a></li>
          <li><a href="../../../FitNesse/UserGuide.html" class="nav-link text-secondary">User Guide</a></li>
        </ul>
      </div>
      <ol class="page-actions btn-group">
        <li class="expandall btn btn-xs">Expand All</li>
        <li class="collapseall btn btn-xs">Collapse All</li>
      </ol>
      <ol class="breadcrumb">
        <li><a href="../../../FitNesse.html">FitNesse</a></li>
        <li><a href="../../../FitNesse/UserGuide.html">UserGuide</a></li>
        <li><a href="../../../FitNesse/UserGuide/WritingAcceptanceTests.html">WritingAcceptanceTests</a></li>
        <li>TestHistory</li>
      </ol>
    </nav>
    <header>
    </header>
    <article>
      Every time you run a test or a suite, the results are recorded in the <i>test history database</i>.  You can view the history by clicking on the <span class="code">Test History</span> button.  The reports are pretty self-explanatory.<br/><br/>When you click on <span class="code">Test History</span> you will be shown the directory of all tests and suites that are in the <i>test history database</i>.  This directory also shows you the status of the most recent results from each test or suite. By default, the last 20 results are shown, but you can now choose to display only the <span class="code">Last 3</span>, <span class="code">Last 5</span>, <span class="code">Last 10</span>, or <span class="code">Last 20</span> results using the button group at the top of the page. This makes it easier to focus on recent trends or reduce clutter from older test runs.<br/><br/>Each row in the table shows a test or suite name, the number of passed and failed runs, the date of the latest run, and a bar graph with the recent outcomes (<span class="code">+</span> for pass, <span class="code">-</span> for fail). You can click on the name of the test or suite to get a detailed <i>page history</i>, or you can click on any of the individual status symbols to view the specific test result.<br/><br/>If a shared prefix exists in test or suite names (e.g., <span class="code">FitNesse.SuiteAcceptanceTests.</span>), a checkbox labeled <span class="code">Trim page names</span> will appear. When selected, this option trims the redundant prefix from the displayed names, improving readability of deeply nested pages.<br/><br/>To further improve clarity and usability, the table is now displayed with alternating row stripes. Column headers also include small info icons with tooltips, offering helpful explanations such as "Number of tests passed", "Latest test run", or "Recent result status" when hovered over.<br/><br/><h4 id="0">Details</h4>
The <i>test history database</i> is kept in <span class="code">FitNesseRoot/files/testResults</span>.  Beneath this directory there is a subdirectory for each test or suite.  These directories contain the <i>page history</i> and are named for the page that contains the test or suite.  Beneath the page history directory is a file for each test result.<br/><br/>The test result files are named using the following scheme <span class="code">YYYYMMDDHHMMSS_R_W_I_E.xml</span>  where YYYYMMDDHHMMSS is the date and time of the test run, and R, W, I, and E are integers representing the number of Right, Wrong, Ignored, and Exception counts for the test or suite.  For tests they are assertion counts.  For suites they are test counts.  (Example: <span class="code">20090513134259_12_20_4_2.xml</span>)<br/><br/>The test files contain the XML that describes the test run.  The format of this XML is identical to the XML packet returned by the format=xml flag when you run a test.  (See <UserGuide.RestfulTests).<br/><br/>You also have the possibility to disable <span class="code">Test Histories</span> for a selected page by going to the <span class="code">?properties</span> page and check the <i>DisableTestHistory</i> option. Setting this property on a Suite, will disable the <span class="code">Test Histories</span> for the whole Suite.<br/><br/><h4 id="1">Purging</h4>
There are buttons at the top of the <i>Test History</i> page that allow you to purge old history files.  You have your choice of <i>all</i>, <i>&gt;7 days</i>, or <i>&gt;30 days</i>.  If you want to purge a different number of days, you can change the <i><a href="../../../FitNesse/UserGuide/WritingAcceptanceTests/TestHistory.html">Test History</a>.purgeOptions</i> in the <a href="../../../FitNesse/UserGuide/AdministeringFitNesse/ConfigurationFile.html">configuration file</a> to allow additional purge options, or you can use the RESTful URL form.  (See <a href="../../../FitNesse/UserGuide/AdministeringFitNesse/RestfulServices.html">RestfulServices</a>).<br/><br/>You can also clean up the test history right after a test execution. To do so, configure a property <i>test.history.days</i> in the <a href="../../../FitNesse/UserGuide/AdministeringFitNesse/ConfigurationFile.html">configuration file</a> or as a <a href="../../../FitNesse/UserGuide/FitNesseWiki/MarkupLanguageReference/MarkupVariables.html">page variable</a> and assign it the number of days you want to keep history. Additionally, you can configure the property <i><a href="../../../FitNesse/UserGuide/WritingAcceptanceTests/TestHistory.html">Test History</a>.maxCount</i> in the <a href="../../../FitNesse/UserGuide/AdministeringFitNesse/ConfigurationFile.html">configuration file</a> to limit the number of histories to keep.<br/><br/><h4 id="2">Comparing History</h4>
When viewing the history for a page, you can select any two test results by clicking in their checkboxes.  Then, if you click the <i>Compare</i> button, you will be shown the two test results side-by-side along with an indicator that tells you if the results are identical or not.<br/><br/>Only tests can be compared this way.  Suites cannot.<br/><br/>Notice that the comparison is pretty smart.  It tries to line up the two tests on a table-by-table basis.  It can detect if tables have been inserted or deleted.  The % code that you see on the left is just the match score for the tables.<br/>
    </article>
    <footer>
      <center>User Guide Contents</center><center><a href="../../../FitNesse/UserGuide.html#introduction">Introduction</a> - <a href="../../../FitNesse/UserGuide/FitNesseWiki.html">Working with the Wiki</a> - <a href="../../../FitNesse/UserGuide/WritingAcceptanceTests.html">Writing Acceptance Tests</a> - <a href="../../../FitNesse/UserGuide/AdministeringFitNesse.html">Administration</a> - <a href="../../../FitNesse/UserGuide/QuickReferenceGuide.html">Quick Reference Guide</a> - <a href="../../../FitNesse/FullReferenceGuide.html">Full Reference Guide</a></center>
    </footer>
  </body>
</html>
